<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ตารางสอบ ม.6/10</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Prompt', sans-serif;
            background-color: #FFF8F3;
        }
        .exam-container {
            max-height: calc(100vh - 280px);
            overflow-y: auto;
        }
        .exam-container::-webkit-scrollbar {
            width: 8px;
        }
        .exam-container::-webkit-scrollbar-track {
            background: #FFF8F3;
        }
        .exam-container::-webkit-scrollbar-thumb {
            background-color: #FF9B50;
            border-radius: 20px;
        }
        .current-exam {
            background-color: #FF9B50;
            color: white;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 155, 80, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(255, 155, 80, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(255, 155, 80, 0);
            }
        }
        .next-exam {
            border: 2px dashed #FF9B50;
        }
    </style>
</head>
<body class="bg-orange-50">
    <div class="container mx-auto px-4 py-6 max-w-4xl">
        <div class="bg-gradient-to-r from-orange-500 to-orange-400 rounded-lg shadow-lg p-6 mb-6 text-white">
            <h1 class="text-3xl font-bold text-center mb-2">ตารางสอบ ม.6/10</h1>
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="text-xl font-medium" id="current-date"></div>
                <div class="text-2xl font-bold" id="current-time"></div>
            </div>
        </div>

        <div class="bg-white rounded-lg shadow-md p-6 mb-6 border-l-4 border-orange-500">
            <div class="text-lg font-medium mb-2">สถานะการสอบ:</div>
            <div class="text-xl font-bold mb-2" id="current-status">กำลังตรวจสอบ...</div>
            <div class="text-md" id="next-exam">กำลังตรวจสอบ...</div>
        </div>

        <div class="flex mb-4 border-b border-gray-200">
            <button id="tab-day1" class="px-4 py-2 font-medium text-orange-600 border-b-2 border-orange-500">27 มิถุนายน 2568</button>
            <button id="tab-day2" class="px-4 py-2 font-medium text-gray-500 hover:text-orange-500">30 มิถุนายน 2568</button>
        </div>

        <div id="day1-content" class="exam-container">
            <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                <div class="bg-orange-500 text-white px-6 py-3 font-medium text-lg">
                    วันพฤหัสบดีที่ 27 มิถุนายน 2568
                </div>
                <div class="divide-y divide-gray-100">
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="08:30" data-end="09:00">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">ภาษาอังกฤษ</div>
                            </div>
                            <div class="text-orange-600 font-medium">08:30 - 09:00</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พัก 15 นาที</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="09:15" data-end="09:45">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">คณิตศาสตร์</div>
                            </div>
                            <div class="text-orange-600 font-medium">09:15 - 09:45</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พัก 15 นาที</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="10:00" data-end="10:30">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">วิทยาศาสตร์โลกและอวกาศ</div>
                            </div>
                            <div class="text-orange-600 font-medium">10:00 - 10:30</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พัก 15 นาที</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="10:45" data-end="11:15">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">เคมีเพิ่มเติม</div>
                            </div>
                            <div class="text-orange-600 font-medium">10:45 - 11:15</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พักกลางวัน</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="13:10" data-end="13:40">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">ชีววิทยาเพิ่มเติม</div>
                            </div>
                            <div class="text-orange-600 font-medium">13:10 - 13:40</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พัก 60 นาที</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="14:40" data-end="15:10">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">ประวัติศาสตร์</div>
                            </div>
                            <div class="text-orange-600 font-medium">14:40 - 15:10</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="day2-content" class="exam-container hidden">
            <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                <div class="bg-orange-500 text-white px-6 py-3 font-medium text-lg">
                    วันอาทิตย์ที่ 30 มิถุนายน 2568
                </div>
                <div class="divide-y divide-gray-100">
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="08:30" data-end="09:00">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">ภาษาไทย</div>
                            </div>
                            <div class="text-orange-600 font-medium">08:30 - 09:00</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พัก 15 นาที</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="09:15" data-end="09:45">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">ฟิสิกส์เพิ่มเติม</div>
                            </div>
                            <div class="text-orange-600 font-medium">09:15 - 09:45</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พัก 15 นาที</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="10:00" data-end="10:30">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">ศิลปะ</div>
                            </div>
                            <div class="text-orange-600 font-medium">10:00 - 10:30</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พัก 15 นาที</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="10:45" data-end="11:15">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">สังคม</div>
                            </div>
                            <div class="text-orange-600 font-medium">10:45 - 11:15</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พักกลางวัน</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="13:10" data-end="13:40">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">วิทยาการคำนวณ</div>
                            </div>
                            <div class="text-orange-600 font-medium">13:10 - 13:40</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พัก 15 นาที</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="13:55" data-end="14:25">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">เสริมทักษะคณิตศาสตร์</div>
                            </div>
                            <div class="text-orange-600 font-medium">13:55 - 14:25</div>
                        </div>
                    </div>
                    <div class="p-3 bg-gray-50 text-sm text-gray-500 text-center">พัก 15 นาที</div>
                    <div class="exam-item p-4 hover:bg-orange-50" data-start="14:40" data-end="15:10">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium text-lg">สุขศึกษาและพลศึกษา</div>
                            </div>
                            <div class="text-orange-600 font-medium">14:40 - 15:10</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching
        document.getElementById('tab-day1').addEventListener('click', function() {
            document.getElementById('day1-content').classList.remove('hidden');
            document.getElementById('day2-content').classList.add('hidden');
            document.getElementById('tab-day1').classList.add('text-orange-600', 'border-orange-500', 'border-b-2');
            document.getElementById('tab-day1').classList.remove('text-gray-500');
            document.getElementById('tab-day2').classList.add('text-gray-500');
            document.getElementById('tab-day2').classList.remove('text-orange-600', 'border-orange-500', 'border-b-2');
        });

        document.getElementById('tab-day2').addEventListener('click', function() {
            document.getElementById('day1-content').classList.add('hidden');
            document.getElementById('day2-content').classList.remove('hidden');
            document.getElementById('tab-day2').classList.add('text-orange-600', 'border-orange-500', 'border-b-2');
            document.getElementById('tab-day2').classList.remove('text-gray-500');
            document.getElementById('tab-day1').classList.add('text-gray-500');
            document.getElementById('tab-day1').classList.remove('text-orange-600', 'border-orange-500', 'border-b-2');
        });

        // Date and time functions
        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('current-date').textContent = now.toLocaleDateString('th-TH', options);
            
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            document.getElementById('current-time').textContent = `${hours}:${minutes}:${seconds}`;
            
            updateExamStatus(now);
        }

        // Exam schedule data
        const examSchedule = {
            "2568-06-27": [
                { subject: "ภาษาอังกฤษ", start: "08:30", end: "09:00" },
                { subject: "คณิตศาสตร์", start: "09:15", end: "09:45" },
                { subject: "วิทยาศาสตร์โลกและอวกาศ", start: "10:00", end: "10:30" },
                { subject: "เคมีเพิ่มเติม", start: "10:45", end: "11:15" },
                { subject: "ชีววิทยาเพิ่มเติม", start: "13:10", end: "13:40" },
                { subject: "ประวัติศาสตร์", start: "14:40", end: "15:10" }
            ],
            "2568-06-30": [
                { subject: "ภาษาไทย", start: "08:30", end: "09:00" },
                { subject: "ฟิสิกส์เพิ่มเติม", start: "09:15", end: "09:45" },
                { subject: "ศิลปะ", start: "10:00", end: "10:30" },
                { subject: "สังคม", start: "10:45", end: "11:15" },
                { subject: "วิทยาการคำนวณ", start: "13:10", end: "13:40" },
                { subject: "เสริมทักษะคณิตศาสตร์", start: "13:55", end: "14:25" },
                { subject: "สุขศึกษาและพลศึกษา", start: "14:40", end: "15:10" } // Updated time
            ]
        };

        // For demo purposes, we'll use the current date to determine which day to show
        function updateExamStatus(now) {
            const day = now.getDate();
            const month = now.getMonth() + 1; // Month is 0-indexed
            const year = now.getFullYear();
            
            const todayFormatted = `${year}-${month.toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
            
            let todaySchedule;
            let dateKey;
            
            // This part ensures the correct tab is active based on the current date
            if (todayFormatted === "2568-06-27") {
                todaySchedule = examSchedule["2568-06-27"];
                dateKey = "2568-06-27";
                if (!document.getElementById('day1-content').classList.contains('hidden')) {
                    document.getElementById('tab-day1').click();
                }
            } else if (todayFormatted === "2568-06-30") {
                todaySchedule = examSchedule["2568-06-30"];
                dateKey = "2568-06-30";
                if (!document.getElementById('day2-content').classList.contains('hidden')) {
                    document.getElementById('tab-day2').click();
                }
            } else {
                // Default to day 1 schedule if it's not an exam day or a future day
                todaySchedule = examSchedule["2568-06-27"];
                dateKey = "2568-06-27";
                if (document.getElementById('day2-content').classList.contains('hidden') === false) {
                    document.getElementById('tab-day1').click();
                }
            }
            
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            const currentTimeString = `${currentHour.toString().padStart(2, '0')}:${currentMinute.toString().padStart(2, '0')}`;
            
            // Reset all exam items
            document.querySelectorAll('.exam-item').forEach(item => {
                item.classList.remove('current-exam', 'next-exam');
            });
            
            // Find current and next exams
            let currentExam = null;
            let nextExam = null;
            
            for (let i = 0; i < todaySchedule.length; i++) {
                const exam = todaySchedule[i];
                if (currentTimeString >= exam.start && currentTimeString <= exam.end) {
                    currentExam = exam;
                    nextExam = todaySchedule[i + 1] || null;
                    break;
                } else if (currentTimeString < exam.start) {
                    nextExam = exam;
                    break;
                }
            }
            
            // Update status display
            const statusElement = document.getElementById('current-status');
            const nextExamElement = document.getElementById('next-exam');
            
            if (currentExam) {
                statusElement.textContent = `ขณะนี้กำลังสอบวิชา: ${currentExam.subject}`;
                
                // Highlight current exam in the table
                // Select only exam items within the currently active day's content
                document.querySelectorAll(`#${dateKey === '2568-06-27' ? 'day1-content' : 'day2-content'} .exam-item[data-start="${currentExam.start}"][data-end="${currentExam.end}"]`).forEach(item => {
                    item.classList.add('current-exam');
                });
                
                if (nextExam) {
                    nextExamElement.textContent = `วิชาถัดไป: ${nextExam.subject} (${nextExam.start} - ${nextExam.end})`;
                    
                    // Highlight next exam in the table
                    document.querySelectorAll(`#${dateKey === '2568-06-27' ? 'day1-content' : 'day2-content'} .exam-item[data-start="${nextExam.start}"][data-end="${nextExam.end}"]`).forEach(item => {
                        item.classList.add('next-exam');
                    });
                } else {
                    nextExamElement.textContent = "ไม่มีการสอบถัดไปในวันนี้";
                }
            } else if (nextExam) {
                statusElement.textContent = "ขณะนี้ไม่มีการสอบ";
                nextExamElement.textContent = `วิชาถัดไป: ${nextExam.subject} (${nextExam.start} - ${nextExam.end})`;
                
                // Highlight next exam in the table
                document.querySelectorAll(`#${dateKey === '2568-06-27' ? 'day1-content' : 'day2-content'} .exam-item[data-start="${nextExam.start}"][data-end="${nextExam.end}"]`).forEach(item => {
                    item.classList.add('next-exam');
                });
            } else {
                statusElement.textContent = "ไม่มีการสอบในขณะนี้";
                nextExamElement.textContent = "ไม่มีการสอบที่กำลังจะมาถึงในวันนี้";
            }
        }

        // Initialize and update every second
        updateDateTime();
        setInterval(updateDateTime, 1000);
    </script>
</body>
</html>
